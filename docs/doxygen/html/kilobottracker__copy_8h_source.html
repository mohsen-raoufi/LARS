<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LARS: tracker/kilobottracker_copy.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">LARS
   </div>
   <div id="projectbrief">LARS (Light Augmented Reality System) is an open-source framework for light-based interaction and real-time tracking in multi-robot experiments. Inspired by ARK, LARS extends the augmented reality paradigm to robotic collectives by projecting dynamic visual cues and environments onto the arena, enabling new experimental possibilities for collective robotics research, education, and outreach. LARS features integrated tracking, light projection, and modular experiment control with a user-friendly Qt GUI.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('kilobottracker__copy_8h_source.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">kilobottracker_copy.h</div></div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span></div>
<div class="line"><a id="l00007" name="l00007"></a><span class="lineno">    7</span> </div>
<div class="line"><a id="l00008" name="l00008"></a><span class="lineno">    8</span><span class="preprocessor">#ifndef CALIBRATEARENA_H</span></div>
<div class="line"><a id="l00009" name="l00009"></a><span class="lineno">    9</span><span class="preprocessor">#define CALIBRATEARENA_H</span></div>
<div class="line"><a id="l00010" name="l00010"></a><span class="lineno">   10</span><span class="preprocessor">#include &lt;ios&gt;</span></div>
<div class="line"><a id="l00011" name="l00011"></a><span class="lineno">   11</span><span class="preprocessor">#include &lt;vector&gt;</span></div>
<div class="line"><a id="l00012" name="l00012"></a><span class="lineno">   12</span> </div>
<div class="line"><a id="l00013" name="l00013"></a><span class="lineno">   13</span><span class="preprocessor">#define USE_CUDA true</span></div>
<div class="line"><a id="l00014" name="l00014"></a><span class="lineno">   14</span> </div>
<div class="line"><a id="l00015" name="l00015"></a><span class="lineno">   15</span> </div>
<div class="line"><a id="l00016" name="l00016"></a><span class="lineno">   16</span> </div>
<div class="line"><a id="l00017" name="l00017"></a><span class="lineno">   17</span><span class="preprocessor">#ifndef USE_OPENCV3</span></div>
<div class="line"><a id="l00018" name="l00018"></a><span class="lineno">   18</span> </div>
<div class="line"><a id="l00019" name="l00019"></a><span class="lineno">   19</span> </div>
<div class="line"><a id="l00020" name="l00020"></a><span class="lineno">   20</span><span class="comment">// OpenCV 2 includes</span></div>
<div class="line"><a id="l00021" name="l00021"></a><span class="lineno">   21</span><span class="preprocessor">#include &lt;opencv2/highgui/highgui.hpp&gt;</span></div>
<div class="line"><a id="l00022" name="l00022"></a><span class="lineno">   22</span><span class="preprocessor">#include &lt;opencv2/video/video.hpp&gt;</span></div>
<div class="line"><a id="l00023" name="l00023"></a><span class="lineno">   23</span><span class="preprocessor">#include &lt;opencv2/imgproc/imgproc.hpp&gt;</span></div>
<div class="line"><a id="l00024" name="l00024"></a><span class="lineno">   24</span><span class="preprocessor">#include &lt;opencv2/videostab.hpp&gt;</span></div>
<div class="line"><a id="l00025" name="l00025"></a><span class="lineno">   25</span><span class="preprocessor">#include &lt;opencv2/features2d/features2d.hpp&gt;</span></div>
<div class="line"><a id="l00026" name="l00026"></a><span class="lineno">   26</span><span class="preprocessor">#include &lt;opencv2/stitching.hpp&gt;</span><span class="comment">//stitching/stitcher.hpp&gt;</span></div>
<div class="line"><a id="l00027" name="l00027"></a><span class="lineno">   27</span><span class="preprocessor">#include &lt;opencv2/opencv.hpp&gt;</span></div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno">   28</span><span class="comment">//GPU stuff</span></div>
<div class="line"><a id="l00029" name="l00029"></a><span class="lineno">   29</span><span class="preprocessor">#include &lt;opencv2/core/cuda.hpp&gt;</span></div>
<div class="line"><a id="l00030" name="l00030"></a><span class="lineno">   30</span> </div>
<div class="line"><a id="l00031" name="l00031"></a><span class="lineno">   31</span><span class="preprocessor">#ifdef USE_CUDA</span></div>
<div class="line"><a id="l00032" name="l00032"></a><span class="lineno">   32</span><span class="preprocessor">    #define MAT_TYPE cuda::GpuMat</span></div>
<div class="line"><a id="l00033" name="l00033"></a><span class="lineno">   33</span><span class="preprocessor">    #define CV_NS cv::cuda::</span></div>
<div class="line"><a id="l00034" name="l00034"></a><span class="lineno">   34</span><span class="preprocessor">#else</span></div>
<div class="line"><a id="l00035" name="l00035"></a><span class="lineno">   35</span><span class="preprocessor">    #define MAT_TYPE Mat</span></div>
<div class="line"><a id="l00036" name="l00036"></a><span class="lineno">   36</span><span class="preprocessor">    #define CV_NS cv::</span></div>
<div class="line"><a id="l00037" name="l00037"></a><span class="lineno">   37</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00038" name="l00038"></a><span class="lineno">   38</span> </div>
<div class="line"><a id="l00039" name="l00039"></a><span class="lineno">   39</span><span class="preprocessor">#else</span></div>
<div class="line"><a id="l00040" name="l00040"></a><span class="lineno">   40</span> </div>
<div class="line"><a id="l00041" name="l00041"></a><span class="lineno">   41</span><span class="keyword">using namespace </span>std;</div>
<div class="line"><a id="l00042" name="l00042"></a><span class="lineno">   42</span> </div>
<div class="line"><a id="l00043" name="l00043"></a><span class="lineno">   43</span><span class="comment">// OpenCV 3 :</span></div>
<div class="line"><a id="l00044" name="l00044"></a><span class="lineno">   44</span><span class="preprocessor">#include &lt;opencv2/highgui.hpp&gt;</span></div>
<div class="line"><a id="l00045" name="l00045"></a><span class="lineno">   45</span><span class="preprocessor">#include &lt;opencv2/video.hpp&gt;</span></div>
<div class="line"><a id="l00046" name="l00046"></a><span class="lineno">   46</span><span class="preprocessor">#include &lt;opencv2/imgproc.hpp&gt;</span></div>
<div class="line"><a id="l00047" name="l00047"></a><span class="lineno">   47</span><span class="preprocessor">#include &lt;opencv2/videostab.hpp&gt;</span></div>
<div class="line"><a id="l00048" name="l00048"></a><span class="lineno">   48</span><span class="preprocessor">#include &lt;opencv2/features2d.hpp&gt;</span></div>
<div class="line"><a id="l00049" name="l00049"></a><span class="lineno">   49</span><span class="preprocessor">#include &lt;opencv2/stitching.hpp&gt;</span></div>
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno">   50</span><span class="preprocessor">#include &lt;opencv2/opencv.hpp&gt;</span></div>
<div class="line"><a id="l00051" name="l00051"></a><span class="lineno">   51</span><span class="preprocessor">#include &lt;opencv2/core/core.hpp&gt;</span></div>
<div class="line"><a id="l00052" name="l00052"></a><span class="lineno">   52</span><span class="preprocessor">#include &lt;opencv2/imgcodecs.hpp&gt;</span></div>
<div class="line"><a id="l00053" name="l00053"></a><span class="lineno">   53</span><span class="preprocessor">#include &lt;opencv2/videoio.hpp&gt;</span></div>
<div class="line"><a id="l00054" name="l00054"></a><span class="lineno">   54</span><span class="preprocessor">#include &lt;opencv2/core/ocl.hpp&gt;</span></div>
<div class="line"><a id="l00055" name="l00055"></a><span class="lineno">   55</span><span class="preprocessor">#include &lt;opencv2/cudaarithm.hpp&gt;</span></div>
<div class="line"><a id="l00056" name="l00056"></a><span class="lineno">   56</span><span class="preprocessor">#include &lt;opencv2/cudaimgproc.hpp&gt;</span></div>
<div class="line"><a id="l00057" name="l00057"></a><span class="lineno">   57</span><span class="preprocessor">#include &lt;opencv2/cudafilters.hpp&gt;</span></div>
<div class="line"><a id="l00058" name="l00058"></a><span class="lineno">   58</span><span class="preprocessor">#include &lt;opencv2/cudafeatures2d.hpp&gt;</span></div>
<div class="line"><a id="l00059" name="l00059"></a><span class="lineno">   59</span><span class="preprocessor">#include &lt;opencv2/cudawarping.hpp&gt;</span></div>
<div class="line"><a id="l00060" name="l00060"></a><span class="lineno">   60</span> </div>
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno">   61</span><span class="preprocessor">#ifdef USE_CUDA</span></div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno">   62</span><span class="preprocessor">#define MAT_TYPE cuda::GpuMat</span></div>
<div class="line"><a id="l00063" name="l00063"></a><span class="lineno">   63</span><span class="preprocessor">#define CV_NS cv::cuda::</span></div>
<div class="line"><a id="l00064" name="l00064"></a><span class="lineno">   64</span><span class="preprocessor">#else</span></div>
<div class="line"><a id="l00065" name="l00065"></a><span class="lineno">   65</span><span class="preprocessor">#define MAT_TYPE UMat</span></div>
<div class="line"><a id="l00066" name="l00066"></a><span class="lineno">   66</span><span class="preprocessor">#define CV_NS cv::</span></div>
<div class="line"><a id="l00067" name="l00067"></a><span class="lineno">   67</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00068" name="l00068"></a><span class="lineno">   68</span> </div>
<div class="line"><a id="l00069" name="l00069"></a><span class="lineno">   69</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00070" name="l00070"></a><span class="lineno">   70</span> </div>
<div class="line"><a id="l00071" name="l00071"></a><span class="lineno">   71</span><span class="comment">// allow easy addressing of OpenCV functions</span></div>
<div class="line"><a id="l00072" name="l00072"></a><span class="lineno">   72</span><span class="keyword">using namespace </span>cv;</div>
<div class="line"><a id="l00073" name="l00073"></a><span class="lineno">   73</span> </div>
<div class="line"><a id="l00074" name="l00074"></a><span class="lineno">   74</span><span class="comment">// Qt base include</span></div>
<div class="line"><a id="l00075" name="l00075"></a><span class="lineno">   75</span><span class="preprocessor">#include &lt;QObject&gt;</span></div>
<div class="line"><a id="l00076" name="l00076"></a><span class="lineno">   76</span><span class="preprocessor">#include &lt;QPoint&gt;</span></div>
<div class="line"><a id="l00077" name="l00077"></a><span class="lineno">   77</span><span class="preprocessor">#include &lt;QPixmap&gt;</span></div>
<div class="line"><a id="l00078" name="l00078"></a><span class="lineno">   78</span><span class="comment">// for thread buffer communication</span></div>
<div class="line"><a id="l00079" name="l00079"></a><span class="lineno">   79</span><span class="preprocessor">#include &lt;QSemaphore&gt;</span></div>
<div class="line"><a id="l00080" name="l00080"></a><span class="lineno">   80</span><span class="preprocessor">#include &lt;QTimer&gt;</span></div>
<div class="line"><a id="l00081" name="l00081"></a><span class="lineno">   81</span><span class="preprocessor">#include &lt;QElapsedTimer&gt;</span></div>
<div class="line"><a id="l00082" name="l00082"></a><span class="lineno">   82</span><span class="preprocessor">#include &lt;QTime&gt;</span></div>
<div class="line"><a id="l00083" name="l00083"></a><span class="lineno">   83</span><span class="comment">//#include &lt;QColor&gt;</span></div>
<div class="line"><a id="l00084" name="l00084"></a><span class="lineno">   84</span><span class="preprocessor">#include &lt;QDebug&gt;</span></div>
<div class="line"><a id="l00085" name="l00085"></a><span class="lineno">   85</span> </div>
<div class="line"><a id="l00086" name="l00086"></a><span class="lineno">   86</span><span class="preprocessor">#include &quot;kilobot.h&quot;</span></div>
<div class="line"><a id="l00087" name="l00087"></a><span class="lineno">   87</span> </div>
<div class="line"><a id="l00088" name="l00088"></a><span class="lineno">   88</span><span class="comment">// buffers and semaphores</span></div>
<div class="foldopen" id="foldopen00089" data-start="{" data-end="};">
<div class="line"><a id="l00089" name="l00089"></a><span class="lineno"><a class="line" href="structsrc_buffer.html">   89</a></span><span class="keyword">struct </span><a class="code hl_struct" href="structsrc_buffer.html">srcBuffer</a> {</div>
<div class="line"><a id="l00090" name="l00090"></a><span class="lineno">   90</span>    MAT_TYPE full_warped_image;</div>
<div class="line"><a id="l00091" name="l00091"></a><span class="lineno">   91</span>};</div>
</div>
<div class="line"><a id="l00092" name="l00092"></a><span class="lineno">   92</span> </div>
<div class="line"><a id="l00093" name="l00093"></a><span class="lineno">   93</span><span class="preprocessor">#define BUFF_SIZE 2</span></div>
<div class="line"><a id="l00094" name="l00094"></a><span class="lineno">   94</span> </div>
<div class="line"><a id="l00095" name="l00095"></a><span class="lineno">   95</span><span class="preprocessor">#define IM_WIDTH 1920 </span><span class="comment">// 2304</span></div>
<div class="line"><a id="l00096" name="l00096"></a><span class="lineno">   96</span><span class="preprocessor">#define IM_HEIGHT 1200 </span><span class="comment">//1536</span></div>
<div class="line"><a id="l00097" name="l00097"></a><span class="lineno">   97</span> </div>
<div class="line"><a id="l00098" name="l00098"></a><span class="lineno">   98</span><span class="preprocessor">#define IDENTIFY_TIMEOUT 10</span></div>
<div class="line"><a id="l00099" name="l00099"></a><span class="lineno">   99</span> </div>
<div class="line"><a id="l00100" name="l00100"></a><span class="lineno">  100</span> </div>
<div class="line"><a id="l00101" name="l00101"></a><span class="lineno">  101</span><span class="keyword">enum</span> srcDataType {</div>
<div class="line"><a id="l00102" name="l00102"></a><span class="lineno">  102</span>    IMAGES,</div>
<div class="line"><a id="l00103" name="l00103"></a><span class="lineno">  103</span>    VIDEO,</div>
<div class="line"><a id="l00104" name="l00104"></a><span class="lineno">  104</span>    CAMERA</div>
<div class="line"><a id="l00105" name="l00105"></a><span class="lineno">  105</span>};</div>
<div class="line"><a id="l00106" name="l00106"></a><span class="lineno">  106</span> </div>
<div class="line"><a id="l00107" name="l00107"></a><span class="lineno">  107</span><span class="keyword">enum</span> trackerType {</div>
<div class="line"><a id="l00108" name="l00108"></a><span class="lineno">  108</span>    NO_TRACK,</div>
<div class="line"><a id="l00109" name="l00109"></a><span class="lineno">  109</span>    CIRCLES_NAIVE,</div>
<div class="line"><a id="l00110" name="l00110"></a><span class="lineno">  110</span>    CIRCLES_LOCAL,</div>
<div class="line"><a id="l00111" name="l00111"></a><span class="lineno">  111</span>    MY_HAPPY_OTHER_TRACKER,</div>
<div class="line"><a id="l00112" name="l00112"></a><span class="lineno">  112</span>};</div>
<div class="line"><a id="l00113" name="l00113"></a><span class="lineno">  113</span> </div>
<div class="foldopen" id="foldopen00114" data-start="{" data-end="};">
<div class="line"><a id="l00114" name="l00114"></a><span class="lineno"><a class="line" href="structindex_pair.html">  114</a></span><span class="keyword">struct </span><a class="code hl_struct" href="structindex_pair.html">indexPair</a> {</div>
<div class="line"><a id="l00115" name="l00115"></a><span class="lineno">  115</span>    <span class="keywordtype">int</span> a;</div>
<div class="line"><a id="l00116" name="l00116"></a><span class="lineno">  116</span>    <span class="keywordtype">int</span> b;</div>
<div class="line"><a id="l00117" name="l00117"></a><span class="lineno">  117</span>};</div>
</div>
<div class="line"><a id="l00118" name="l00118"></a><span class="lineno">  118</span> </div>
<div class="foldopen" id="foldopen00119" data-start="{" data-end="};">
<div class="line"><a id="l00119" name="l00119"></a><span class="lineno"><a class="line" href="structkilo_light.html">  119</a></span><span class="keyword">struct </span><a class="code hl_struct" href="structkilo_light.html">kiloLight</a> {</div>
<div class="line"><a id="l00120" name="l00120"></a><span class="lineno">  120</span>    lightColour col;</div>
<div class="line"><a id="l00121" name="l00121"></a><span class="lineno">  121</span>    <a class="code hl_struct" href="struct_point.html">Point</a> pos;</div>
<div class="line"><a id="l00122" name="l00122"></a><span class="lineno">  122</span>};</div>
</div>
<div class="line"><a id="l00123" name="l00123"></a><span class="lineno">  123</span> </div>
<div class="line"><a id="l00124" name="l00124"></a><span class="lineno">  124</span><span class="keyword">enum</span> experimentType {</div>
<div class="line"><a id="l00125" name="l00125"></a><span class="lineno">  125</span>    IDENTIFY,</div>
<div class="line"><a id="l00126" name="l00126"></a><span class="lineno">  126</span>    ID_ASSIGNMENT,</div>
<div class="line"><a id="l00127" name="l00127"></a><span class="lineno">  127</span>    CALIBRATION,</div>
<div class="line"><a id="l00128" name="l00128"></a><span class="lineno">  128</span>    USER_EXP,</div>
<div class="line"><a id="l00129" name="l00129"></a><span class="lineno">  129</span>    M_EXP</div>
<div class="line"><a id="l00130" name="l00130"></a><span class="lineno">  130</span>};</div>
<div class="line"><a id="l00131" name="l00131"></a><span class="lineno">  131</span> </div>
<div class="line"><a id="l00132" name="l00132"></a><span class="lineno">  132</span> </div>
<div class="line"><a id="l00133" name="l00133"></a><span class="lineno">  133</span> </div>
<div class="line"><a id="l00134" name="l00134"></a><span class="lineno">  134</span><span class="comment">// DRAWABLES:</span></div>
<div class="line"><a id="l00135" name="l00135"></a><span class="lineno">  135</span> </div>
<div class="foldopen" id="foldopen00136" data-start="{" data-end="};">
<div class="line"><a id="l00136" name="l00136"></a><span class="lineno"><a class="line" href="structdrawn_circle.html">  136</a></span><span class="keyword">struct </span><a class="code hl_struct" href="structdrawn_circle.html">drawnCircle</a> {</div>
<div class="line"><a id="l00137" name="l00137"></a><span class="lineno">  137</span>    <a class="code hl_struct" href="struct_point.html">Point</a> pos;</div>
<div class="line"><a id="l00138" name="l00138"></a><span class="lineno">  138</span>    <span class="keywordtype">int</span> r;</div>
<div class="line"><a id="l00139" name="l00139"></a><span class="lineno">  139</span>    QColor col;</div>
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno">  140</span>    <span class="keywordtype">int</span> thickness;</div>
<div class="line"><a id="l00141" name="l00141"></a><span class="lineno">  141</span>    std::string text;</div>
<div class="line"><a id="l00142" name="l00142"></a><span class="lineno">  142</span>    <span class="keywordtype">bool</span> transparent;</div>
<div class="line"><a id="l00143" name="l00143"></a><span class="lineno">  143</span>};</div>
</div>
<div class="line"><a id="l00144" name="l00144"></a><span class="lineno">  144</span> </div>
<div class="foldopen" id="foldopen00145" data-start="{" data-end="};">
<div class="line"><a id="l00145" name="l00145"></a><span class="lineno"><a class="line" href="structdrawn_line.html">  145</a></span><span class="keyword">struct </span><a class="code hl_struct" href="structdrawn_line.html">drawnLine</a> {</div>
<div class="line"><a id="l00146" name="l00146"></a><span class="lineno">  146</span>    std::vector&lt;Point&gt; pos;</div>
<div class="line"><a id="l00147" name="l00147"></a><span class="lineno">  147</span>    QColor col;</div>
<div class="line"><a id="l00148" name="l00148"></a><span class="lineno">  148</span>    <span class="keywordtype">int</span> thickness;</div>
<div class="line"><a id="l00149" name="l00149"></a><span class="lineno">  149</span>    std::string text;</div>
<div class="line"><a id="l00150" name="l00150"></a><span class="lineno">  150</span>    <span class="keywordtype">bool</span> transparent;</div>
<div class="line"><a id="l00151" name="l00151"></a><span class="lineno">  151</span>};</div>
</div>
<div class="line"><a id="l00152" name="l00152"></a><span class="lineno">  152</span> </div>
<div class="line"><a id="l00153" name="l00153"></a><span class="lineno">  153</span><span class="keyword">class </span><a class="code hl_class" href="classacquire_thread.html">acquireThread</a>;</div>
<div class="line"><a id="l00154" name="l00154"></a><span class="lineno">  154</span><span class="keyword">class </span><a class="code hl_class" href="class_kilobot_experiment.html">KilobotExperiment</a>;</div>
<div class="line"><a id="l00155" name="l00155"></a><span class="lineno">  155</span></div>
<div class="foldopen" id="foldopen00162" data-start="{" data-end="};">
<div class="line"><a id="l00162" name="l00162"></a><span class="lineno"><a class="line" href="class_kilobot_tracker.html">  162</a></span><span class="keyword">class </span>KilobotTracker : <span class="keyword">public</span> QObject</div>
<div class="line"><a id="l00163" name="l00163"></a><span class="lineno">  163</span>{</div>
<div class="line"><a id="l00164" name="l00164"></a><span class="lineno">  164</span>    Q_OBJECT</div>
<div class="line"><a id="l00165" name="l00165"></a><span class="lineno">  165</span> </div>
<div class="line"><a id="l00166" name="l00166"></a><span class="lineno">  166</span><span class="keyword">public</span>:</div>
<div class="line"><a id="l00167" name="l00167"></a><span class="lineno">  167</span>    <span class="keyword">explicit</span> KilobotTracker(QPoint smallImageSize = QPoint(300,300), QObject *parent = 0);</div>
<div class="line"><a id="l00168" name="l00168"></a><span class="lineno">  168</span>    ~KilobotTracker();</div>
<div class="line"><a id="l00169" name="l00169"></a><span class="lineno">  169</span> </div>
<div class="line"><a id="l00170" name="l00170"></a><span class="lineno">  170</span>    <a class="code hl_class" href="class_kilobot_experiment.html">KilobotExperiment</a> * expt;</div>
<div class="line"><a id="l00171" name="l00171"></a><span class="lineno">  171</span> </div>
<div class="line"><a id="l00172" name="l00172"></a><span class="lineno">  172</span>    <span class="keywordtype">int</span> dummyVar2000 = 1000; <span class="comment">// MOHSEN! &lt;&lt; just to check what is this value!</span></div>
<div class="line"><a id="l00173" name="l00173"></a><span class="lineno">  173</span> </div>
<div class="line"><a id="l00174" name="l00174"></a><span class="lineno">  174</span>    <span class="comment">//Default tracking parameters and identification parameters</span></div>
<div class="line"><a id="l00175" name="l00175"></a><span class="lineno">  175</span><span class="comment">//    int kbMinSize = 5;//3;</span></div>
<div class="line"><a id="l00176" name="l00176"></a><span class="lineno">  176</span><span class="comment">//    int kbMaxSize = 16;//22;</span></div>
<div class="line"><a id="l00177" name="l00177"></a><span class="lineno">  177</span><span class="comment">//    int houghAcc = 19; // 27;</span></div>
<div class="line"><a id="l00178" name="l00178"></a><span class="lineno">  178</span><span class="comment">//    int cannyThresh = 61; //40;</span></div>
<div class="line"><a id="l00179" name="l00179"></a><span class="lineno">  179</span> </div>
<div class="line"><a id="l00180" name="l00180"></a><span class="lineno">  180</span>    <span class="keywordtype">int</span> kbMinSize = 8;<span class="comment">//10;//3;</span></div>
<div class="line"><a id="l00181" name="l00181"></a><span class="lineno">  181</span>    <span class="keywordtype">int</span> kbMaxSize = 12;<span class="comment">//18;//22;</span></div>
<div class="line"><a id="l00182" name="l00182"></a><span class="lineno">  182</span>    <span class="keywordtype">int</span> houghAcc = 13;<span class="comment">//12; // 27;</span></div>
<div class="line"><a id="l00183" name="l00183"></a><span class="lineno">  183</span>    <span class="keywordtype">int</span> cannyThresh = 90;<span class="comment">//112; //40;</span></div>
<div class="line"><a id="l00184" name="l00184"></a><span class="lineno">  184</span> </div>
<div class="line"><a id="l00185" name="l00185"></a><span class="lineno">  185</span>    <span class="keywordtype">int</span> kbLEDMinSize = kbMinSize/7;<span class="comment">//3;</span></div>
<div class="line"><a id="l00186" name="l00186"></a><span class="lineno">  186</span>    <span class="keywordtype">int</span> kbLEDMaxSize = kbMinSize*10/7;<span class="comment">//22; &lt;&lt; !!</span></div>
<div class="line"><a id="l00187" name="l00187"></a><span class="lineno">  187</span>    <span class="keywordtype">int</span> LEDhoughAcc = houghAcc; <span class="comment">// 27;</span></div>
<div class="line"><a id="l00188" name="l00188"></a><span class="lineno">  188</span>    <span class="keywordtype">int</span> LEDcannyThresh = cannyThresh; <span class="comment">//40;</span></div>
<div class="line"><a id="l00189" name="l00189"></a><span class="lineno">  189</span> </div>
<div class="line"><a id="l00190" name="l00190"></a><span class="lineno">  190</span>    <span class="keywordtype">int</span> maxIDtoCheck = 100;</div>
<div class="line"><a id="l00191" name="l00191"></a><span class="lineno">  191</span>    uint manualID;</div>
<div class="line"><a id="l00192" name="l00192"></a><span class="lineno">  192</span>    <span class="comment">// camera parameters</span></div>
<div class="line"><a id="l00193" name="l00193"></a><span class="lineno">  193</span>    <span class="keywordtype">int</span> height_x_adj = 10;</div>
<div class="line"><a id="l00194" name="l00194"></a><span class="lineno">  194</span>    <span class="keywordtype">int</span> height_y_adj = 10;</div>
<div class="line"><a id="l00195" name="l00195"></a><span class="lineno">  195</span> </div>
<div class="line"><a id="l00196" name="l00196"></a><span class="lineno">  196</span>    <span class="comment">//Default color threshold detection parameters</span></div>
<div class="line"><a id="l00197" name="l00197"></a><span class="lineno">  197</span>    <span class="keywordtype">float</span> redLThreshold = 0.75;     <span class="comment">//0.6</span></div>
<div class="line"><a id="l00198" name="l00198"></a><span class="lineno">  198</span>    <span class="keywordtype">float</span> redHThreshold = 0.0;</div>
<div class="line"><a id="l00199" name="l00199"></a><span class="lineno">  199</span>    <span class="keywordtype">float</span> greenLThreshold = 0.56;</div>
<div class="line"><a id="l00200" name="l00200"></a><span class="lineno">  200</span>    <span class="keywordtype">float</span> greenHThreshold = 0.75;</div>
<div class="line"><a id="l00201" name="l00201"></a><span class="lineno">  201</span>    <span class="keywordtype">float</span> blueLThreshold = 0.65;</div>
<div class="line"><a id="l00202" name="l00202"></a><span class="lineno">  202</span>    <span class="keywordtype">float</span> blueHThreshold = 0.0;</div>
<div class="line"><a id="l00203" name="l00203"></a><span class="lineno">  203</span> </div>
<div class="line"><a id="l00204" name="l00204"></a><span class="lineno">  204</span>    QList&lt;Vec3f&gt; detectedCircles;</div>
<div class="line"><a id="l00205" name="l00205"></a><span class="lineno">  205</span> </div>
<div class="line"><a id="l00206" name="l00206"></a><span class="lineno">  206</span>    <span class="keywordtype">bool</span> debugBool = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00207" name="l00207"></a><span class="lineno">  207</span> </div>
<div class="line"><a id="l00208" name="l00208"></a><span class="lineno">  208</span>signals:</div>
<div class="line"><a id="l00213" name="l00213"></a><span class="lineno"><a class="line" href="class_kilobot_tracker.html#a34bcaf1ebafe7de68949d53de9769c7f">  213</a></span>    <span class="keywordtype">void</span> <a class="code hl_signal" href="class_kilobot_tracker.html#a34bcaf1ebafe7de68949d53de9769c7f">errorMessage</a>(QString);</div>
<div class="line"><a id="l00214" name="l00214"></a><span class="lineno">  214</span> </div>
<div class="line"><a id="l00215" name="l00215"></a><span class="lineno">  215</span>    <span class="keywordtype">void</span> setStitchedImage(QPixmap);</div>
<div class="line"><a id="l00216" name="l00216"></a><span class="lineno">  216</span> </div>
<div class="line"><a id="l00217" name="l00217"></a><span class="lineno">  217</span>    <span class="keywordtype">void</span> capturedImage(cv::Mat);</div>
<div class="line"><a id="l00218" name="l00218"></a><span class="lineno">  218</span> </div>
<div class="line"><a id="l00219" name="l00219"></a><span class="lineno">  219</span>    <span class="keywordtype">void</span> identifyKilo(uint8_t);</div>
<div class="line"><a id="l00220" name="l00220"></a><span class="lineno">  220</span> </div>
<div class="line"><a id="l00221" name="l00221"></a><span class="lineno">  221</span>    <span class="keywordtype">void</span> broadcastMessage(<a class="code hl_struct" href="structkilobot__broadcast.html">kilobot_broadcast</a>);</div>
<div class="line"><a id="l00222" name="l00222"></a><span class="lineno">  222</span> </div>
<div class="line"><a id="l00223" name="l00223"></a><span class="lineno">  223</span>    <span class="keywordtype">void</span> clearMsgQueue();</div>
<div class="line"><a id="l00224" name="l00224"></a><span class="lineno">  224</span> </div>
<div class="line"><a id="l00225" name="l00225"></a><span class="lineno">  225</span>    <span class="keywordtype">void</span> startExperiment(<span class="keywordtype">bool</span>);</div>
<div class="line"><a id="l00226" name="l00226"></a><span class="lineno">  226</span> </div>
<div class="line"><a id="l00227" name="l00227"></a><span class="lineno">  227</span>    <span class="keywordtype">void</span> stopExperiment();</div>
<div class="line"><a id="l00228" name="l00228"></a><span class="lineno">  228</span> </div>
<div class="line"><a id="l00229" name="l00229"></a><span class="lineno">  229</span>    <span class="keywordtype">void</span> toggleExpButton(<span class="keywordtype">int</span>);</div>
<div class="line"><a id="l00230" name="l00230"></a><span class="lineno">  230</span> </div>
<div class="line"><a id="l00231" name="l00231"></a><span class="lineno">  231</span>    <span class="keywordtype">void</span> activateExpButtons(<span class="keywordtype">int</span>);</div>
<div class="line"><a id="l00232" name="l00232"></a><span class="lineno">  232</span> </div>
<div class="line"><a id="l00233" name="l00233"></a><span class="lineno">  233</span>    <span class="keywordtype">void</span> setRuntimeIdentificationLock(<span class="keywordtype">bool</span>);</div>
<div class="line"><a id="l00234" name="l00234"></a><span class="lineno">  234</span> </div>
<div class="line"><a id="l00235" name="l00235"></a><span class="lineno">  235</span>    <span class="keywordtype">void</span> kiloList(QVector&lt;Kilobot *&gt;);</div>
<div class="line"><a id="l00236" name="l00236"></a><span class="lineno">  236</span> </div>
<div class="line"><a id="l00237" name="l00237"></a><span class="lineno">  237</span>    <span class="keywordtype">void</span> circlesToDrawSig(QVector &lt; drawnCircle &gt;);</div>
<div class="line"><a id="l00238" name="l00238"></a><span class="lineno">  238</span> </div>
<div class="line"><a id="l00239" name="l00239"></a><span class="lineno">  239</span> </div>
<div class="line"><a id="l00240" name="l00240"></a><span class="lineno">  240</span><span class="keyword">public</span> slots:</div>
<div class="line"><a id="l00246" name="l00246"></a><span class="lineno">  246</span>    <span class="keywordtype">void</span> <a class="code hl_slot" href="class_kilobot_tracker.html#a7dcabe716c187806537a614bedd38111">LOOPstartstop</a>(<span class="keywordtype">int</span> stage);</div>
<div class="line"><a id="l00247" name="l00247"></a><span class="lineno">  247</span></div>
<div class="line"><a id="l00252" name="l00252"></a><span class="lineno">  252</span>    <span class="keywordtype">void</span> <a class="code hl_slot" href="class_kilobot_tracker.html#a6b074fa6378f1896d5ad4ae7b5623a71">LOOPiterate</a>();</div>
<div class="line"><a id="l00253" name="l00253"></a><span class="lineno">  253</span></div>
<div class="line"><a id="l00258" name="l00258"></a><span class="lineno">  258</span>    <span class="keywordtype">void</span> <a class="code hl_slot" href="class_kilobot_tracker.html#a073e9a11d9ca05afb39364f4426f69dc">SETUPloadCalibration</a>();</div>
<div class="line"><a id="l00259" name="l00259"></a><span class="lineno">  259</span> </div>
<div class="line"><a id="l00260" name="l00260"></a><span class="lineno">  260</span> </div>
<div class="line"><a id="l00261" name="l00261"></a><span class="lineno">  261</span>    <span class="comment">// MOHSEN</span></div>
<div class="line"><a id="l00262" name="l00262"></a><span class="lineno">  262</span>    <span class="keywordtype">bool</span> RUNcapture();</div>
<div class="line"><a id="l00263" name="l00263"></a><span class="lineno">  263</span></div>
<div class="line"><a id="l00268" name="l00268"></a><span class="lineno">  268</span>    <span class="keywordtype">void</span> <a class="code hl_slot" href="class_kilobot_tracker.html#add0f8bc09487bf46a44f2b403335baf8">SETUPfindKilobots</a>();</div>
<div class="line"><a id="l00269" name="l00269"></a><span class="lineno">  269</span></div>
<div class="line"><a id="l00274" name="l00274"></a><span class="lineno">  274</span>    <span class="keywordtype">void</span> <a class="code hl_slot" href="class_kilobot_tracker.html#ad2b465ec7e5b8cda4bb7d60b02c2eddf">identifyKilobots</a>();</div>
<div class="line"><a id="l00275" name="l00275"></a><span class="lineno">  275</span> </div>
<div class="line"><a id="l00276" name="l00276"></a><span class="lineno">  276</span> </div>
<div class="line"><a id="l00277" name="l00277"></a><span class="lineno">  277</span>    <span class="comment">// MOHSEN</span></div>
<div class="line"><a id="l00278" name="l00278"></a><span class="lineno">  278</span> </div>
<div class="line"><a id="l00279" name="l00279"></a><span class="lineno">  279</span>    <span class="keywordtype">void</span> updateCropPoints(QRect cropRect);</div>
<div class="line"><a id="l00280" name="l00280"></a><span class="lineno">  280</span> </div>
<div class="line"><a id="l00281" name="l00281"></a><span class="lineno">  281</span>    QSize getImageSize();</div>
<div class="line"><a id="l00282" name="l00282"></a><span class="lineno">  282</span> </div>
<div class="line"><a id="l00283" name="l00283"></a><span class="lineno">  283</span><span class="comment">//    void drawOverlayPub(Mat &amp;);</span></div>
<div class="line"><a id="l00284" name="l00284"></a><span class="lineno">  284</span> </div>
<div class="line"><a id="l00285" name="l00285"></a><span class="lineno">  285</span><span class="comment">//    void getCircles(QVector &lt; drawnCircle &gt;);</span></div>
<div class="line"><a id="l00286" name="l00286"></a><span class="lineno">  286</span> </div>
<div class="line"><a id="l00287" name="l00287"></a><span class="lineno">  287</span> </div>
<div class="line"><a id="l00288" name="l00288"></a><span class="lineno">  288</span> </div>
<div class="line"><a id="l00289" name="l00289"></a><span class="lineno">  289</span>    <span class="comment">// drawing slots</span></div>
<div class="line"><a id="l00290" name="l00290"></a><span class="lineno">  290</span>    <span class="keywordtype">void</span> drawCircle(QPointF pos, <span class="keywordtype">float</span> r, QColor col, <span class="keywordtype">int</span> thickness = 2, std::string text =<span class="stringliteral">&quot;&quot;</span>, <span class="keywordtype">bool</span> transparent = <span class="keyword">false</span>) {</div>
<div class="line"><a id="l00291" name="l00291"></a><span class="lineno">  291</span>        <span class="keywordtype">int</span> r_int = r;</div>
<div class="line"><a id="l00292" name="l00292"></a><span class="lineno">  292</span>        this-&gt;circsToDraw.push_back(<a class="code hl_struct" href="structdrawn_circle.html">drawnCircle</a> {<a class="code hl_struct" href="struct_point.html">Point</a>(pos.x(),pos.y()), r_int, col, thickness, text, transparent});</div>
<div class="line"><a id="l00293" name="l00293"></a><span class="lineno">  293</span>    }</div>
<div class="line"><a id="l00294" name="l00294"></a><span class="lineno">  294</span> </div>
<div class="line"><a id="l00295" name="l00295"></a><span class="lineno">  295</span>    <span class="keywordtype">void</span> drawLine(std::vector&lt;cv::Point&gt; pos, QColor col, <span class="keywordtype">int</span> thickness = 2, std::string text =<span class="stringliteral">&quot;&quot;</span>, <span class="keywordtype">bool</span> transparent = <span class="keyword">false</span>) {</div>
<div class="line"><a id="l00296" name="l00296"></a><span class="lineno">  296</span>        this-&gt;linesToDraw.push_back(drawnLine {pos, col, thickness, text, transparent});</div>
<div class="line"><a id="l00297" name="l00297"></a><span class="lineno">  297</span>    }</div>
<div class="line"><a id="l00298" name="l00298"></a><span class="lineno">  298</span> </div>
<div class="line"><a id="l00299" name="l00299"></a><span class="lineno">  299</span>    <span class="keywordtype">void</span> clearDrawings() {</div>
<div class="line"><a id="l00300" name="l00300"></a><span class="lineno">  300</span>        this-&gt;circsToDraw.clear();</div>
<div class="line"><a id="l00301" name="l00301"></a><span class="lineno">  301</span>        this-&gt;linesToDraw.clear();</div>
<div class="line"><a id="l00302" name="l00302"></a><span class="lineno">  302</span>    }</div>
<div class="line"><a id="l00303" name="l00303"></a><span class="lineno">  303</span> </div>
<div class="line"><a id="l00304" name="l00304"></a><span class="lineno">  304</span>    <span class="keywordtype">void</span> drawCircleOnRecordedImage(QPointF pos, <span class="keywordtype">float</span> r, QColor col, <span class="keywordtype">int</span> thickness = 2, std::string text = <span class="stringliteral">&quot;&quot;</span>) {</div>
<div class="line"><a id="l00305" name="l00305"></a><span class="lineno">  305</span>        <span class="keywordtype">int</span> r_int = r;</div>
<div class="line"><a id="l00306" name="l00306"></a><span class="lineno">  306</span>        this-&gt;circsToDrawFinal.push_back(drawnCircle {Point(pos.x(),pos.y()), r_int, col, thickness, text});</div>
<div class="line"><a id="l00307" name="l00307"></a><span class="lineno">  307</span>    }</div>
<div class="line"><a id="l00308" name="l00308"></a><span class="lineno">  308</span> </div>
<div class="line"><a id="l00309" name="l00309"></a><span class="lineno">  309</span>    <span class="keywordtype">void</span> clearDrawingsOnRecordedImage() {</div>
<div class="line"><a id="l00310" name="l00310"></a><span class="lineno">  310</span>        this-&gt;circsToDrawFinal.clear();</div>
<div class="line"><a id="l00311" name="l00311"></a><span class="lineno">  311</span>    }</div>
<div class="line"><a id="l00312" name="l00312"></a><span class="lineno">  312</span> </div>
<div class="line"><a id="l00313" name="l00313"></a><span class="lineno">  313</span>    <span class="keywordtype">void</span> saveImage(QString file) {</div>
<div class="line"><a id="l00314" name="l00314"></a><span class="lineno">  314</span>        <span class="keywordflow">if</span> (!finalImageCol.empty()) {</div>
<div class="line"><a id="l00315" name="l00315"></a><span class="lineno">  315</span>            <span class="comment">// before saving I draw what I need to draw on the FinalImage</span></div>
<div class="line"><a id="l00316" name="l00316"></a><span class="lineno">  316</span>            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; this-&gt;circsToDrawFinal.size(); ++i) {</div>
<div class="line"><a id="l00317" name="l00317"></a><span class="lineno">  317</span>                cv::circle(finalImageCol,this-&gt;circsToDrawFinal[i].pos, this-&gt;circsToDrawFinal[i].r,</div>
<div class="line"><a id="l00318" name="l00318"></a><span class="lineno">  318</span>                           Scalar(this-&gt;circsToDrawFinal[i].col.blue(),this-&gt;circsToDrawFinal[i].col.green(),this-&gt;circsToDrawFinal[i].col.red(),0.5),</div>
<div class="line"><a id="l00319" name="l00319"></a><span class="lineno">  319</span>                           this-&gt;circsToDrawFinal[i].thickness);</div>
<div class="line"><a id="l00320" name="l00320"></a><span class="lineno">  320</span>            }</div>
<div class="line"><a id="l00321" name="l00321"></a><span class="lineno">  321</span>            cv::imwrite(file.toStdString(),finalImageCol);</div>
<div class="line"><a id="l00322" name="l00322"></a><span class="lineno">  322</span>        }</div>
<div class="line"><a id="l00323" name="l00323"></a><span class="lineno">  323</span>    }</div>
<div class="line"><a id="l00324" name="l00324"></a><span class="lineno">  324</span> </div>
<div class="line"><a id="l00325" name="l00325"></a><span class="lineno">  325</span>    <span class="keywordtype">void</span> saveVideoFrames(QString file, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> numofframes) {</div>
<div class="line"><a id="l00326" name="l00326"></a><span class="lineno">  326</span>        savecamerasframes = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00327" name="l00327"></a><span class="lineno">  327</span>        savecamerasframesdir=file;</div>
<div class="line"><a id="l00328" name="l00328"></a><span class="lineno">  328</span>        numberofframes=numofframes;</div>
<div class="line"><a id="l00329" name="l00329"></a><span class="lineno">  329</span>    }</div>
<div class="line"><a id="l00330" name="l00330"></a><span class="lineno">  330</span> </div>
<div class="line"><a id="l00331" name="l00331"></a><span class="lineno">  331</span>    <span class="comment">// accessors - docs not required??</span></div>
<div class="line"><a id="l00332" name="l00332"></a><span class="lineno">  332</span>    <span class="keywordtype">void</span> setSourceType(<span class="keywordtype">bool</span> val) {<span class="keywordflow">if</span> (val) this-&gt;srcType = CAMERA; <span class="keywordflow">else</span> this-&gt;srcType = VIDEO;}</div>
<div class="line"><a id="l00333" name="l00333"></a><span class="lineno">  333</span> </div>
<div class="line"><a id="l00334" name="l00334"></a><span class="lineno">  334</span>    <span class="keywordtype">void</span> setKbMin(<span class="keywordtype">int</span> val){this-&gt;kbMinSize = val;}</div>
<div class="line"><a id="l00335" name="l00335"></a><span class="lineno">  335</span>    <span class="keywordtype">void</span> setKbMax(<span class="keywordtype">int</span> val) {this-&gt;kbMaxSize = val;}</div>
<div class="line"><a id="l00336" name="l00336"></a><span class="lineno">  336</span>    <span class="keywordtype">void</span> setCannyThresh(<span class="keywordtype">int</span> val) {this-&gt;cannyThresh = val;}</div>
<div class="line"><a id="l00337" name="l00337"></a><span class="lineno">  337</span>    <span class="keywordtype">void</span> setHoughAcc(<span class="keywordtype">int</span> val) {this-&gt;houghAcc = val;}</div>
<div class="line"><a id="l00338" name="l00338"></a><span class="lineno">  338</span> </div>
<div class="line"><a id="l00339" name="l00339"></a><span class="lineno">  339</span>    <span class="keywordtype">void</span> setKbLMin(<span class="keywordtype">int</span> val){this-&gt;kbLEDMinSize = val;}</div>
<div class="line"><a id="l00340" name="l00340"></a><span class="lineno">  340</span>    <span class="keywordtype">void</span> setKbLMax(<span class="keywordtype">int</span> val) {this-&gt;kbLEDMaxSize = val;}</div>
<div class="line"><a id="l00341" name="l00341"></a><span class="lineno">  341</span>    <span class="keywordtype">void</span> setLEDCannyThresh(<span class="keywordtype">int</span> val) {this-&gt;LEDcannyThresh = val;}</div>
<div class="line"><a id="l00342" name="l00342"></a><span class="lineno">  342</span>    <span class="keywordtype">void</span> setLEDHoughAcc(<span class="keywordtype">int</span> val) {this-&gt;LEDhoughAcc = val;}</div>
<div class="line"><a id="l00343" name="l00343"></a><span class="lineno">  343</span> </div>
<div class="line"><a id="l00344" name="l00344"></a><span class="lineno">  344</span> </div>
<div class="line"><a id="l00345" name="l00345"></a><span class="lineno">  345</span>    <span class="keywordtype">void</span> setLowRLED(<span class="keywordtype">int</span> val){this-&gt;redLThreshold = (double) val/100.0;}<span class="comment">// qDebug() &lt;&lt; &quot;value: &quot; &lt;&lt; this-&gt;redLThreshold;}</span></div>
<div class="line"><a id="l00346" name="l00346"></a><span class="lineno">  346</span>    <span class="keywordtype">void</span> setLowGLED(<span class="keywordtype">int</span> val) {this-&gt;greenLThreshold = (double) val/100.0;}</div>
<div class="line"><a id="l00347" name="l00347"></a><span class="lineno">  347</span>    <span class="keywordtype">void</span> setLowBLED(<span class="keywordtype">int</span> val) {this-&gt;blueLThreshold = (double) val/100.0;}</div>
<div class="line"><a id="l00348" name="l00348"></a><span class="lineno">  348</span>    <span class="keywordtype">void</span> setHiRLED(<span class="keywordtype">int</span> val){this-&gt;redHThreshold = (double) val/100.0;}</div>
<div class="line"><a id="l00349" name="l00349"></a><span class="lineno">  349</span>    <span class="keywordtype">void</span> setHiGLED(<span class="keywordtype">int</span> val) {this-&gt;greenHThreshold = (double) val/100.0;}</div>
<div class="line"><a id="l00350" name="l00350"></a><span class="lineno">  350</span>    <span class="keywordtype">void</span> setHiBLED(<span class="keywordtype">int</span> val) {this-&gt;blueHThreshold = (double) val/100.0;}</div>
<div class="line"><a id="l00351" name="l00351"></a><span class="lineno">  351</span> </div>
<div class="line"><a id="l00352" name="l00352"></a><span class="lineno">  352</span> </div>
<div class="line"><a id="l00353" name="l00353"></a><span class="lineno">  353</span>    <span class="keywordtype">void</span> setHeightXSlider(<span class="keywordtype">int</span> val) {this-&gt;height_x_adj = val;}</div>
<div class="line"><a id="l00354" name="l00354"></a><span class="lineno">  354</span>    <span class="keywordtype">void</span> setHeightYSlider(<span class="keywordtype">int</span> val) {this-&gt;height_y_adj = val;}</div>
<div class="line"><a id="l00355" name="l00355"></a><span class="lineno">  355</span> </div>
<div class="line"><a id="l00356" name="l00356"></a><span class="lineno">  356</span>    <span class="keywordtype">void</span> manuallyassignID(QPoint position);</div>
<div class="line"><a id="l00357" name="l00357"></a><span class="lineno">  357</span></div>
<div class="line"><a id="l00363" name="l00363"></a><span class="lineno"><a class="line" href="class_kilobot_tracker.html#a95d6edd070f9b0a0ef3f3c04ed09b898">  363</a></span>    <span class="keywordtype">void</span> <a class="code hl_slot" href="class_kilobot_tracker.html#a95d6edd070f9b0a0ef3f3c04ed09b898">setVideoDir</a>(QString dir) {this-&gt;videoPath = dir;}</div>
<div class="line"><a id="l00364" name="l00364"></a><span class="lineno">  364</span> </div>
<div class="line"><a id="l00365" name="l00365"></a><span class="lineno">  365</span>    <span class="keywordtype">void</span> updateKilobotStates();</div>
<div class="line"><a id="l00366" name="l00366"></a><span class="lineno">  366</span> </div>
<div class="line"><a id="l00367" name="l00367"></a><span class="lineno">  367</span>    <span class="keywordtype">void</span> getInitialKilobotStates();</div>
<div class="line"><a id="l00368" name="l00368"></a><span class="lineno">  368</span> </div>
<div class="line"><a id="l00369" name="l00369"></a><span class="lineno">  369</span>    <span class="keywordtype">void</span> setTrackingType(<span class="keywordtype">int</span> t_type) {this-&gt;t_type = t_type;}</div>
<div class="line"><a id="l00370" name="l00370"></a><span class="lineno">  370</span>    <span class="keywordtype">void</span> updateExperimentBroadcastingState(<span class="keywordtype">bool</span> BroadcastingState)</div>
<div class="line"><a id="l00371" name="l00371"></a><span class="lineno">  371</span>    {</div>
<div class="line"><a id="l00372" name="l00372"></a><span class="lineno">  372</span>        experimentIsBroadcasting=BroadcastingState;</div>
<div class="line"><a id="l00373" name="l00373"></a><span class="lineno">  373</span>    }</div>
<div class="line"><a id="l00374" name="l00374"></a><span class="lineno">  374</span></div>
<div class="line"><a id="l00381" name="l00381"></a><span class="lineno"><a class="line" href="class_kilobot_tracker.html#a2abc5181ee91714cddf2348b36e3ed7f">  381</a></span>    <span class="keywordtype">void</span> <a class="code hl_slot" href="class_kilobot_tracker.html#a2abc5181ee91714cddf2348b36e3ed7f">showIds</a>(<span class="keywordtype">bool</span> toggle) {this-&gt;showIDs = toggle;}</div>
<div class="line"><a id="l00382" name="l00382"></a><span class="lineno">  382</span>    <span class="keywordtype">void</span> detectred(<span class="keywordtype">bool</span> toggle) {this-&gt;m_detectred = toggle;}</div>
<div class="line"><a id="l00383" name="l00383"></a><span class="lineno">  383</span>    <span class="keywordtype">void</span> detectgreen(<span class="keywordtype">bool</span> toggle) {this-&gt;m_detectgreen = toggle;}</div>
<div class="line"><a id="l00384" name="l00384"></a><span class="lineno">  384</span>    <span class="keywordtype">void</span> detectblue(<span class="keywordtype">bool</span> toggle) {this-&gt;m_detectblue = toggle;}</div>
<div class="line"><a id="l00385" name="l00385"></a><span class="lineno">  385</span>    <span class="keywordtype">void</span> manualIDassignment(<span class="keywordtype">bool</span> toggle) {this-&gt;m_assignIDmanually = toggle;}</div>
<div class="line"><a id="l00386" name="l00386"></a><span class="lineno">  386</span>    <span class="keywordtype">void</span> enableRuntimeIdentification(<span class="keywordtype">bool</span> toggle) {this-&gt;m_runtimeIDenabled = toggle;}</div>
<div class="line"><a id="l00387" name="l00387"></a><span class="lineno">  387</span> </div>
<div class="line"><a id="l00388" name="l00388"></a><span class="lineno">  388</span> </div>
<div class="line"><a id="l00389" name="l00389"></a><span class="lineno">  389</span>    <span class="keywordtype">void</span> maxIDtoTry(QString maxIdStr) {this-&gt;maxIDtoCheck = maxIdStr.toInt();}</div>
<div class="line"><a id="l00390" name="l00390"></a><span class="lineno">  390</span>    <span class="keywordtype">void</span> setManualID(QString manID) {this-&gt;manualID = manID.toUInt();}</div>
<div class="line"><a id="l00391" name="l00391"></a><span class="lineno">  391</span>    <span class="keywordtype">void</span> setFlipangle(<span class="keywordtype">double</span> angle);</div>
<div class="line"><a id="l00392" name="l00392"></a><span class="lineno">  392</span></div>
<div class="line"><a id="l00397" name="l00397"></a><span class="lineno">  397</span>    <span class="keywordtype">void</span> <a class="code hl_slot" href="class_kilobot_tracker.html#a8d658556b55241a1bcc36203f01bcef1">RefreshDisplayedImage</a>();</div>
<div class="line"><a id="l00398" name="l00398"></a><span class="lineno">  398</span> </div>
<div class="line"><a id="l00399" name="l00399"></a><span class="lineno">  399</span><span class="keyword">private</span>:</div>
<div class="line"><a id="l00400" name="l00400"></a><span class="lineno">  400</span> </div>
<div class="line"><a id="l00401" name="l00401"></a><span class="lineno">  401</span>    <span class="comment">// PRIVATE METHODS</span></div>
<div class="line"><a id="l00402" name="l00402"></a><span class="lineno">  402</span> </div>
<div class="line"><a id="l00403" name="l00403"></a><span class="lineno">  403</span></div>
<div class="line"><a id="l00408" name="l00408"></a><span class="lineno">  408</span>    <span class="keywordtype">void</span> trackKilobots();</div>
<div class="line"><a id="l00409" name="l00409"></a><span class="lineno">  409</span></div>
<div class="line"><a id="l00414" name="l00414"></a><span class="lineno">  414</span>    <span class="keywordtype">void</span> SETUPstitcher();</div>
<div class="line"><a id="l00415" name="l00415"></a><span class="lineno">  415</span></div>
<div class="line"><a id="l00420" name="l00420"></a><span class="lineno">  420</span>    <span class="keywordtype">void</span> showMat(Mat &amp;);</div>
<div class="line"><a id="l00421" name="l00421"></a><span class="lineno">  421</span></div>
<div class="line"><a id="l00429" name="l00429"></a><span class="lineno">  429</span> </div>
<div class="line"><a id="l00430" name="l00430"></a><span class="lineno">  430</span><span class="preprocessor">#ifdef USE_CUDA</span></div>
<div class="line"><a id="l00431" name="l00431"></a><span class="lineno">  431</span>    kiloLight getKiloBotLight(cuda::GpuMat  channels[3], Point centreOfBox, <span class="keywordtype">int</span> index);</div>
<div class="line"><a id="l00432" name="l00432"></a><span class="lineno">  432</span>    kiloLight getKiloBotLightAdaptive(cuda::GpuMat  channels[3], Point centreOfBox, <span class="keywordtype">int</span> index);</div>
<div class="line"><a id="l00433" name="l00433"></a><span class="lineno">  433</span>    <span class="keywordtype">void</span> getKiloBotLights(Mat &amp;display);</div>
<div class="line"><a id="l00434" name="l00434"></a><span class="lineno">  434</span><span class="preprocessor">#else</span></div>
<div class="line"><a id="l00435" name="l00435"></a><span class="lineno">  435</span>    kiloLight getKiloBotLight(Mat channels[3], Point centreOfBox, <span class="keywordtype">int</span> index);</div>
<div class="line"><a id="l00436" name="l00436"></a><span class="lineno">  436</span>    kiloLight getKiloBotLightAdaptive(Mat channels[3], Point centreOfBox, <span class="keywordtype">int</span> index);</div>
<div class="line"><a id="l00437" name="l00437"></a><span class="lineno">  437</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00438" name="l00438"></a><span class="lineno">  438</span></div>
<div class="line"><a id="l00447" name="l00447"></a><span class="lineno">  447</span>    Rect getKiloBotBoundingBox(<span class="keywordtype">int</span> index, <span class="keywordtype">float</span> scale);</div>
<div class="line"><a id="l00448" name="l00448"></a><span class="lineno">  448</span></div>
<div class="line"><a id="l00453" name="l00453"></a><span class="lineno">  453</span>    <span class="keywordtype">void</span> THREADSlaunch();</div>
<div class="line"><a id="l00454" name="l00454"></a><span class="lineno">  454</span> </div>
<div class="line"><a id="l00455" name="l00455"></a><span class="lineno">  455</span>    <span class="keywordtype">void</span> THREADSstop();</div>
<div class="line"><a id="l00456" name="l00456"></a><span class="lineno">  456</span> </div>
<div class="line"><a id="l00457" name="l00457"></a><span class="lineno">  457</span>    <span class="keywordtype">void</span> identifyKilobot(<span class="keywordtype">int</span>);</div>
<div class="line"><a id="l00458" name="l00458"></a><span class="lineno">  458</span>    <span class="keywordtype">void</span> identifyKilobot(<span class="keywordtype">int</span>,<span class="keywordtype">bool</span>);</div>
<div class="line"><a id="l00459" name="l00459"></a><span class="lineno">  459</span> </div>
<div class="line"><a id="l00460" name="l00460"></a><span class="lineno">  460</span>    <span class="keywordtype">void</span> runtimeIdentify();</div>
<div class="line"><a id="l00461" name="l00461"></a><span class="lineno">  461</span> </div>
<div class="line"><a id="l00462" name="l00462"></a><span class="lineno">  462</span>    <span class="keywordtype">void</span> drawOverlay(Mat &amp;);</div>
<div class="line"><a id="l00463" name="l00463"></a><span class="lineno">  463</span> </div>
<div class="line"><a id="l00464" name="l00464"></a><span class="lineno">  464</span>    <span class="keywordtype">void</span> getDetectedCircles();</div>
<div class="line"><a id="l00465" name="l00465"></a><span class="lineno">  465</span> </div>
<div class="line"><a id="l00466" name="l00466"></a><span class="lineno">  466</span> </div>
<div class="line"><a id="l00467" name="l00467"></a><span class="lineno">  467</span>    <span class="comment">// INTERNAL VARIABLES</span></div>
<div class="line"><a id="l00468" name="l00468"></a><span class="lineno">  468</span> </div>
<div class="line"><a id="l00469" name="l00469"></a><span class="lineno">  469</span>    <span class="keywordtype">int</span> t_type = POS | ADAPTIVE_LED | ROT;</div>
<div class="line"><a id="l00470" name="l00470"></a><span class="lineno">  470</span> </div>
<div class="line"><a id="l00471" name="l00471"></a><span class="lineno">  471</span>    <span class="keywordtype">bool</span> experimentIsBroadcasting=<span class="keyword">false</span>;</div>
<div class="line"><a id="l00472" name="l00472"></a><span class="lineno">  472</span> </div>
<div class="line"><a id="l00473" name="l00473"></a><span class="lineno">  473</span>    Mat finalImageCol;</div>
<div class="line"><a id="l00474" name="l00474"></a><span class="lineno">  474</span> </div>
<div class="line"><a id="l00475" name="l00475"></a><span class="lineno">  475</span><span class="preprocessor">#ifdef USE_CUDA</span></div>
<div class="line"><a id="l00476" name="l00476"></a><span class="lineno">  476</span>    cuda::GpuMat finalImageB;</div>
<div class="line"><a id="l00477" name="l00477"></a><span class="lineno">  477</span>    cuda::GpuMat finalImageG;</div>
<div class="line"><a id="l00478" name="l00478"></a><span class="lineno">  478</span>    cuda::GpuMat finalImageR;</div>
<div class="line"><a id="l00479" name="l00479"></a><span class="lineno">  479</span>    cuda::GpuMat fullImages[3];</div>
<div class="line"><a id="l00480" name="l00480"></a><span class="lineno">  480</span>    cuda::GpuMat grayImage;</div>
<div class="line"><a id="l00481" name="l00481"></a><span class="lineno">  481</span>    <span class="comment">// make thread safe</span></div>
<div class="line"><a id="l00482" name="l00482"></a><span class="lineno">  482</span>    cuda::Stream stream;</div>
<div class="line"><a id="l00483" name="l00483"></a><span class="lineno">  483</span><span class="preprocessor">#else</span></div>
<div class="line"><a id="l00484" name="l00484"></a><span class="lineno">  484</span>    Mat finalImage;</div>
<div class="line"><a id="l00485" name="l00485"></a><span class="lineno">  485</span>    Mat fullImages[3];</div>
<div class="line"><a id="l00486" name="l00486"></a><span class="lineno">  486</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00487" name="l00487"></a><span class="lineno">  487</span> </div>
<div class="line"><a id="l00488" name="l00488"></a><span class="lineno">  488</span>    MAT_TYPE warpedImages;</div>
<div class="line"><a id="l00489" name="l00489"></a><span class="lineno">  489</span>    MAT_TYPE warpedMasks;</div>
<div class="line"><a id="l00490" name="l00490"></a><span class="lineno">  490</span>    Point corners;</div>
<div class="line"><a id="l00491" name="l00491"></a><span class="lineno">  491</span>    Size sizes;</div>
<div class="line"><a id="l00492" name="l00492"></a><span class="lineno">  492</span> </div>
<div class="line"><a id="l00493" name="l00493"></a><span class="lineno">  493</span>    vector &lt; Mat &gt; Ks;</div>
<div class="line"><a id="l00494" name="l00494"></a><span class="lineno">  494</span>    vector &lt; Mat &gt; Rs;</div>
<div class="line"><a id="l00495" name="l00495"></a><span class="lineno">  495</span>    Point2f arenaCorners[4];</div>
<div class="line"><a id="l00496" name="l00496"></a><span class="lineno">  496</span>    <span class="keywordtype">bool</span> haveCalibration = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00497" name="l00497"></a><span class="lineno">  497</span>    QTimer tick;</div>
<div class="line"><a id="l00498" name="l00498"></a><span class="lineno">  498</span> </div>
<div class="line"><a id="l00499" name="l00499"></a><span class="lineno">  499</span>    acquireThread * threads = NULL;</div>
<div class="line"><a id="l00500" name="l00500"></a><span class="lineno">  500</span> </div>
<div class="line"><a id="l00501" name="l00501"></a><span class="lineno">  501</span>    <span class="keywordtype">int</span> time = 0;</div>
<div class="line"><a id="l00506" name="l00506"></a><span class="lineno">  506</span>    QPoint smallImageSize;</div>
<div class="line"><a id="l00507" name="l00507"></a><span class="lineno">  507</span> </div>
<div class="line"><a id="l00508" name="l00508"></a><span class="lineno">  508</span>    Ptr&lt;detail::ExposureCompensator&gt; compensator;</div>
<div class="line"><a id="l00509" name="l00509"></a><span class="lineno">  509</span>    Ptr&lt;detail::Blender&gt; blender;</div>
<div class="line"><a id="l00510" name="l00510"></a><span class="lineno">  510</span> </div>
<div class="line"><a id="l00511" name="l00511"></a><span class="lineno">  511</span>    QElapsedTimer timer;</div>
<div class="line"><a id="l00512" name="l00512"></a><span class="lineno">  512</span> </div>
<div class="line"><a id="l00513" name="l00513"></a><span class="lineno">  513</span>    <span class="keywordtype">bool</span> loadFirstIm = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00514" name="l00514"></a><span class="lineno">  514</span> </div>
<div class="line"><a id="l00515" name="l00515"></a><span class="lineno">  515</span>    srcDataType srcType = CAMERA;</div>
<div class="line"><a id="l00516" name="l00516"></a><span class="lineno">  516</span>    QString videoPath;</div>
<div class="line"><a id="l00517" name="l00517"></a><span class="lineno">  517</span> </div>
<div class="line"><a id="l00518" name="l00518"></a><span class="lineno">  518</span>    trackerType trackType = CIRCLES_NAIVE;<span class="comment">// CIRCLES_LOCAL; // CIRCLES_LOCAL;</span></div>
<div class="line"><a id="l00519" name="l00519"></a><span class="lineno">  519</span> </div>
<div class="line"><a id="l00520" name="l00520"></a><span class="lineno">  520</span>    QVector &lt; Kilobot * &gt; kilos;</div>
<div class="line"><a id="l00521" name="l00521"></a><span class="lineno">  521</span> </div>
<div class="line"><a id="l00522" name="l00522"></a><span class="lineno">  522</span>    QVector &lt; float &gt; kiloHeadings;</div>
<div class="line"><a id="l00523" name="l00523"></a><span class="lineno">  523</span> </div>
<div class="line"><a id="l00524" name="l00524"></a><span class="lineno">  524</span>    QVector &lt; QPointF &gt; kiloOldPos;</div>
<div class="line"><a id="l00525" name="l00525"></a><span class="lineno">  525</span> </div>
<div class="line"><a id="l00526" name="l00526"></a><span class="lineno">  526</span>    QVector &lt; QVector &lt; int &gt; &gt; exclusionTestsIndices;</div>
<div class="line"><a id="l00527" name="l00527"></a><span class="lineno">  527</span> </div>
<div class="line"><a id="l00528" name="l00528"></a><span class="lineno">  528</span>    <span class="keywordtype">float</span> last_time = 0.0f;</div>
<div class="line"><a id="l00529" name="l00529"></a><span class="lineno">  529</span> </div>
<div class="line"><a id="l00530" name="l00530"></a><span class="lineno">  530</span>    Size fullSize;</div>
<div class="line"><a id="l00531" name="l00531"></a><span class="lineno">  531</span>    Point fullCorner;</div>
<div class="line"><a id="l00532" name="l00532"></a><span class="lineno">  532</span> </div>
<div class="line"><a id="l00533" name="l00533"></a><span class="lineno">  533</span>    <span class="keywordtype">int</span> currentID = 0;</div>
<div class="line"><a id="l00534" name="l00534"></a><span class="lineno">  534</span>    uint found = IDENTIFY_TIMEOUT;</div>
<div class="line"><a id="l00535" name="l00535"></a><span class="lineno">  535</span>    QVector &lt; uint &gt; foundIDs;</div>
<div class="line"><a id="l00536" name="l00536"></a><span class="lineno">  536</span>    QVector &lt; int &gt; assignedCircles;</div>
<div class="line"><a id="l00537" name="l00537"></a><span class="lineno">  537</span> </div>
<div class="line"><a id="l00538" name="l00538"></a><span class="lineno">  538</span>    experimentType expType = USER_EXP; <span class="comment">// M_EXP;//;</span></div>
<div class="line"><a id="l00539" name="l00539"></a><span class="lineno">  539</span> </div>
<div class="line"><a id="l00540" name="l00540"></a><span class="lineno">  540</span>    Mat testAdap;</div>
<div class="line"><a id="l00541" name="l00541"></a><span class="lineno">  541</span> </div>
<div class="line"><a id="l00542" name="l00542"></a><span class="lineno">  542</span>    QVector &lt; drawnCircle &gt; circsToDraw;</div>
<div class="line"><a id="l00543" name="l00543"></a><span class="lineno">  543</span>    QVector &lt; drawnLine &gt; linesToDraw;</div>
<div class="line"><a id="l00544" name="l00544"></a><span class="lineno">  544</span>    QVector &lt; drawnCircle &gt; circsToDrawFinal;</div>
<div class="line"><a id="l00545" name="l00545"></a><span class="lineno">  545</span> </div>
<div class="line"><a id="l00546" name="l00546"></a><span class="lineno">  546</span><span class="comment">//    QList&lt;Vec3f&gt; detectedCircles;</span></div>
<div class="line"><a id="l00547" name="l00547"></a><span class="lineno">  547</span> </div>
<div class="line"><a id="l00548" name="l00548"></a><span class="lineno">  548</span><span class="preprocessor">#ifdef USE_CUDA</span></div>
<div class="line"><a id="l00549" name="l00549"></a><span class="lineno">  549</span>    Ptr&lt;cuda::HoughCirclesDetector&gt; hough;</div>
<div class="line"><a id="l00550" name="l00550"></a><span class="lineno">  550</span>    <span class="comment">// RGB Hough</span></div>
<div class="line"><a id="l00551" name="l00551"></a><span class="lineno">  551</span>    Ptr&lt;cuda::HoughCirclesDetector&gt; hough2;</div>
<div class="line"><a id="l00552" name="l00552"></a><span class="lineno">  552</span>    cuda::GpuMat kbLocs;</div>
<div class="line"><a id="l00553" name="l00553"></a><span class="lineno">  553</span> </div>
<div class="line"><a id="l00554" name="l00554"></a><span class="lineno">  554</span>    Ptr&lt;cuda::CLAHE&gt; clahe;</div>
<div class="line"><a id="l00555" name="l00555"></a><span class="lineno">  555</span>    Mat element = cv::getStructuringElement(MORPH_ELLIPSE,Size(7,7));</div>
<div class="line"><a id="l00556" name="l00556"></a><span class="lineno">  556</span>    Ptr&lt;cuda::Filter&gt; dilateFilter;</div>
<div class="line"><a id="l00557" name="l00557"></a><span class="lineno">  557</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00558" name="l00558"></a><span class="lineno">  558</span> </div>
<div class="line"><a id="l00559" name="l00559"></a><span class="lineno">  559</span>    <span class="keywordtype">bool</span> showIDs = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00560" name="l00560"></a><span class="lineno">  560</span>    <span class="keywordtype">int</span> flipangle = 0;</div>
<div class="line"><a id="l00561" name="l00561"></a><span class="lineno">  561</span>    <span class="keywordtype">bool</span> m_detectred=<span class="keyword">true</span>;</div>
<div class="line"><a id="l00562" name="l00562"></a><span class="lineno">  562</span>    <span class="keywordtype">bool</span> m_detectgreen=<span class="keyword">true</span>;</div>
<div class="line"><a id="l00563" name="l00563"></a><span class="lineno">  563</span>    <span class="keywordtype">bool</span> m_detectblue=<span class="keyword">true</span>;</div>
<div class="line"><a id="l00564" name="l00564"></a><span class="lineno">  564</span>    <span class="keywordtype">bool</span> m_assignIDmanually=<span class="keyword">false</span>;</div>
<div class="line"><a id="l00565" name="l00565"></a><span class="lineno">  565</span>    <span class="keywordtype">bool</span> m_runtimeIDenabled=<span class="keyword">true</span>;</div>
<div class="line"><a id="l00566" name="l00566"></a><span class="lineno">  566</span> </div>
<div class="line"><a id="l00567" name="l00567"></a><span class="lineno">  567</span>    QVector &lt;int&gt; lost_count;</div>
<div class="line"><a id="l00568" name="l00568"></a><span class="lineno">  568</span> </div>
<div class="line"><a id="l00569" name="l00569"></a><span class="lineno">  569</span>    <span class="keywordtype">int</span> m_runtimeIdentificationTimer = 0;</div>
<div class="line"><a id="l00570" name="l00570"></a><span class="lineno">  570</span>    <span class="keywordtype">bool</span> m_ongoingRuntimeIdentification = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00571" name="l00571"></a><span class="lineno">  571</span>    QVector &lt;int&gt; pendingRuntimeIdentification;</div>
<div class="line"><a id="l00572" name="l00572"></a><span class="lineno">  572</span>    QElapsedTimer runtimeIDtimer;</div>
<div class="line"><a id="l00573" name="l00573"></a><span class="lineno">  573</span> </div>
<div class="line"><a id="l00574" name="l00574"></a><span class="lineno">  574</span>    <span class="comment">//video saving</span></div>
<div class="line"><a id="l00575" name="l00575"></a><span class="lineno">  575</span>    <span class="keywordtype">bool</span> savecamerasframes=<span class="keyword">false</span>;</div>
<div class="line"><a id="l00576" name="l00576"></a><span class="lineno">  576</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> numberofframes;</div>
<div class="line"><a id="l00577" name="l00577"></a><span class="lineno">  577</span>    QString savecamerasframesdir;</div>
<div class="line"><a id="l00578" name="l00578"></a><span class="lineno">  578</span> </div>
<div class="line"><a id="l00579" name="l00579"></a><span class="lineno">  579</span> </div>
<div class="line"><a id="l00580" name="l00580"></a><span class="lineno">  580</span>};</div>
</div>
<div class="line"><a id="l00581" name="l00581"></a><span class="lineno">  581</span> </div>
<div class="line"><a id="l00582" name="l00582"></a><span class="lineno">  582</span> </div>
<div class="line"><a id="l00583" name="l00583"></a><span class="lineno">  583</span> </div>
<div class="line"><a id="l00584" name="l00584"></a><span class="lineno">  584</span><span class="preprocessor">#endif </span><span class="comment">// CALIBRATEARENA_H</span></div>
<div class="ttc" id="aclass_kilobot_experiment_html"><div class="ttname"><a href="class_kilobot_experiment.html">KilobotExperiment</a></div><div class="ttdef"><b>Definition</b> kilobotexperiment.h:13</div></div>
<div class="ttc" id="aclass_kilobot_tracker_html_a073e9a11d9ca05afb39364f4426f69dc"><div class="ttname"><a href="class_kilobot_tracker.html#a073e9a11d9ca05afb39364f4426f69dc">KilobotTracker::SETUPloadCalibration</a></div><div class="ttdeci">void SETUPloadCalibration()</div><div class="ttdoc">loadCalibration Load the calibration matrices from an OpenCV FileStorage format</div><div class="ttdef"><b>Definition</b> kilobottracker_copy.cpp:3277</div></div>
<div class="ttc" id="aclass_kilobot_tracker_html_a2abc5181ee91714cddf2348b36e3ed7f"><div class="ttname"><a href="class_kilobot_tracker.html#a2abc5181ee91714cddf2348b36e3ed7f">KilobotTracker::showIds</a></div><div class="ttdeci">void showIds(bool toggle)</div><div class="ttdoc">showIds</div><div class="ttdef"><b>Definition</b> kilobottracker_copy.h:381</div></div>
<div class="ttc" id="aclass_kilobot_tracker_html_a34bcaf1ebafe7de68949d53de9769c7f"><div class="ttname"><a href="class_kilobot_tracker.html#a34bcaf1ebafe7de68949d53de9769c7f">KilobotTracker::errorMessage</a></div><div class="ttdeci">void errorMessage(QString)</div><div class="ttdoc">errorMessage Qt signal to update the UI message QLabel</div></div>
<div class="ttc" id="aclass_kilobot_tracker_html_a6b074fa6378f1896d5ad4ae7b5623a71"><div class="ttname"><a href="class_kilobot_tracker.html#a6b074fa6378f1896d5ad4ae7b5623a71">KilobotTracker::LOOPiterate</a></div><div class="ttdeci">void LOOPiterate()</div><div class="ttdoc">iterateTracker Use the existing feature matches to stitch the images and track the kilobots</div><div class="ttdef"><b>Definition</b> kilobottracker_copy.cpp:431</div></div>
<div class="ttc" id="aclass_kilobot_tracker_html_a7dcabe716c187806537a614bedd38111"><div class="ttname"><a href="class_kilobot_tracker.html#a7dcabe716c187806537a614bedd38111">KilobotTracker::LOOPstartstop</a></div><div class="ttdeci">void LOOPstartstop(int stage)</div><div class="ttdoc">startLoop This slot is the target of the timeout on the QTimer tick, and fetches warped images from t...</div><div class="ttdef"><b>Definition</b> kilobottracker_copy.cpp:325</div></div>
<div class="ttc" id="aclass_kilobot_tracker_html_a8d658556b55241a1bcc36203f01bcef1"><div class="ttname"><a href="class_kilobot_tracker.html#a8d658556b55241a1bcc36203f01bcef1">KilobotTracker::RefreshDisplayedImage</a></div><div class="ttdeci">void RefreshDisplayedImage()</div><div class="ttdoc">RefreshDisplayedImage Refresh the displayed image on the GUI.</div><div class="ttdef"><b>Definition</b> kilobottracker_copy.cpp:3397</div></div>
<div class="ttc" id="aclass_kilobot_tracker_html_a95d6edd070f9b0a0ef3f3c04ed09b898"><div class="ttname"><a href="class_kilobot_tracker.html#a95d6edd070f9b0a0ef3f3c04ed09b898">KilobotTracker::setVideoDir</a></div><div class="ttdeci">void setVideoDir(QString dir)</div><div class="ttdoc">setVideoDir</div><div class="ttdef"><b>Definition</b> kilobottracker_copy.h:363</div></div>
<div class="ttc" id="aclass_kilobot_tracker_html_ad2b465ec7e5b8cda4bb7d60b02c2eddf"><div class="ttname"><a href="class_kilobot_tracker.html#ad2b465ec7e5b8cda4bb7d60b02c2eddf">KilobotTracker::identifyKilobots</a></div><div class="ttdeci">void identifyKilobots()</div><div class="ttdoc">identifyKilobots Find out what IDs the Kilobots have</div><div class="ttdef"><b>Definition</b> kilobottracker_copy.cpp:845</div></div>
<div class="ttc" id="aclass_kilobot_tracker_html_add0f8bc09487bf46a44f2b403335baf8"><div class="ttname"><a href="class_kilobot_tracker.html#add0f8bc09487bf46a44f2b403335baf8">KilobotTracker::SETUPfindKilobots</a></div><div class="ttdeci">void SETUPfindKilobots()</div><div class="ttdoc">findKilobots Find the locations of Kilobots in the stitched image</div><div class="ttdef"><b>Definition</b> kilobottracker_copy.cpp:745</div></div>
<div class="ttc" id="aclassacquire_thread_html"><div class="ttname"><a href="classacquire_thread.html">acquireThread</a></div><div class="ttdoc">The acquireThread class This thread acquires input data from a source, applies the local warps to the...</div><div class="ttdef"><b>Definition</b> kilobottracker_copy.cpp:42</div></div>
<div class="ttc" id="astruct_point_html"><div class="ttname"><a href="struct_point.html">Point</a></div><div class="ttdef"><b>Definition</b> voronoii.cpp:9</div></div>
<div class="ttc" id="astructdrawn_circle_html"><div class="ttname"><a href="structdrawn_circle.html">drawnCircle</a></div><div class="ttdef"><b>Definition</b> kilobottracker_copy.h:136</div></div>
<div class="ttc" id="astructdrawn_line_html"><div class="ttname"><a href="structdrawn_line.html">drawnLine</a></div><div class="ttdef"><b>Definition</b> kilobottracker_copy.h:145</div></div>
<div class="ttc" id="astructindex_pair_html"><div class="ttname"><a href="structindex_pair.html">indexPair</a></div><div class="ttdef"><b>Definition</b> kilobottracker_copy.h:114</div></div>
<div class="ttc" id="astructkilo_light_html"><div class="ttname"><a href="structkilo_light.html">kiloLight</a></div><div class="ttdef"><b>Definition</b> kilobottracker_copy.h:119</div></div>
<div class="ttc" id="astructkilobot__broadcast_html"><div class="ttname"><a href="structkilobot__broadcast.html">kilobot_broadcast</a></div><div class="ttdef"><b>Definition</b> kilobot.h:31</div></div>
<div class="ttc" id="astructsrc_buffer_html"><div class="ttname"><a href="structsrc_buffer.html">srcBuffer</a></div><div class="ttdef"><b>Definition</b> kilobottracker_copy.h:89</div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a href="dir_8dbf0aea8e34521316bc26e02a0aef75.html">tracker</a></li><li class="navelem"><b>kilobottracker_copy.h</b></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
