<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LARS: Setup Instructions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">LARS
   </div>
   <div id="projectbrief">LARS (Light Augmented Reality System) is an open-source framework for light-based interaction and real-time tracking in multi-robot experiments. Inspired by ARK, LARS extends the augmented reality paradigm to robotic collectives by projecting dynamic visual cues and environments onto the arena, enabling new experimental possibilities for collective robotics research, education, and outreach. LARS features integrated tracking, light projection, and modular experiment control with a user-friendly Qt GUI.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('md_install__dep.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Setup Instructions </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md19"></a></p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md20"></a>
1. Install Ubuntu 20.04 LTS</h1>
<h1 class="doxsection"><a class="anchor" id="autotoc_md21"></a>
2. Update Everything</h1>
<ul>
<li>Run the following commands in the terminal: <div class="fragment"><div class="line">sudo apt-get update &amp;&amp; sudo apt-get upgrade</div>
</div><!-- fragment --></li>
<li>Run the Software Updater.</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md22"></a>
3. Install Latest Qt</h1>
<ul>
<li>Use the command: <div class="fragment"><div class="line">sudo apt-get install qtcreator</div>
</div><!-- fragment --></li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md23"></a>
4. Install Git</h1>
<ul>
<li>Install Git with: <div class="fragment"><div class="line">sudo apt-get install git</div>
</div><!-- fragment --></li>
</ul>
<hr  />
<h1 class="doxsection"><a class="anchor" id="autotoc_md25"></a>
GPU Computing Setup</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md26"></a>
5. Install Nvidia Driver</h2>
<ul>
<li><b>Purge everything Nvidia related:</b> <div class="fragment"><div class="line">sudo apt purge nvidia-*</div>
</div><!-- fragment --></li>
<li><b>Add repository:</b> <div class="fragment"><div class="line">sudo add-apt-repository ppa:graphics/ppa</div>
</div><!-- fragment --></li>
<li><b>Update:</b> <div class="fragment"><div class="line">sudo apt-get update</div>
</div><!-- fragment --></li>
<li><b>Install driver:</b> <div class="fragment"><div class="line">sudo apt-get install nvidia-470</div>
</div><!-- fragment --></li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md27"></a>
6. Reboot</h2>
<h2 class="doxsection"><a class="anchor" id="autotoc_md28"></a>
7. Install OpenCV</h2>
<ul>
<li><b>Download OpenCV 4.5.5 from:</b> <a href="https://github.com/opencv/opencv/archive/refs/tags/4.5.5.tar.gz">https://github.com/opencv/opencv/archive/refs/tags/4.5.5.tar.gz</a></li>
<li><b>Create folder for LARS and cd:</b> <div class="fragment"><div class="line">mkdir ~/LARS_project &amp;&amp; cd ~/LARS_project</div>
</div><!-- fragment --></li>
<li><b>Untar downloaded OpenCV:</b> <div class="fragment"><div class="line">tar -xcf ~/Downloads/opencv-4.5.5.tar.gz opencv-4.5.5</div>
</div><!-- fragment --></li>
<li><b>Download OpenCV contrib tools:</b> <div class="fragment"><div class="line">git clone https://github.com/opencv/opencv_contrib.git</div>
</div><!-- fragment --></li>
</ul>
<h3 class="doxsection"><a class="anchor" id="autotoc_md29"></a>
Install Prerequisites:</h3>
<ul>
<li>Install necessary packages using the following commands: <div class="fragment"><div class="line">sudo apt install --assume-yes build-essential cmake git pkg-config unzip ffmpeg qtbase5-dev python-dev python3-dev python-numpy python3-numpy</div>
<div class="line">sudo apt install libhdf5-dev</div>
<div class="line">sudo apt install --assume-yes libgtk-3-dev libdc1394-22 libdc1394-22-dev libjpeg-dev libpng-dev libtiff5-dev</div>
<div class="line">sudo apt install --assume-yes libavcodec-dev libavformat-dev libswscale-dev libxine2-dev libgstreamer1.0-dev libgstreamer-plugins-base1.0-dev</div>
<div class="line">sudo apt install --assume-yes libv4l-dev libtbb-dev libfaac-dev libmp3lame-dev libopencore-amrnb-dev libopencore-amrwb-dev libtheora-dev</div>
<div class="line">sudo apt install --assume-yes libvorbis-dev libxvidcore-dev v4l-utils</div>
</div><!-- fragment --></li>
</ul>
<h3 class="doxsection"><a class="anchor" id="autotoc_md30"></a>
Configure CMake:</h3>
<ul>
<li>Navigate and configure using cmake with the following steps: <div class="fragment"><div class="line">cd ~/LARS_project/opencv-4.5.5</div>
<div class="line">mkdir build</div>
<div class="line">cd build</div>
<div class="line">cmake -D CMAKE_BUILD_TYPE=RELEASE -D CMAKE_INSTALL_PREFIX=/usr/local -D WITH_CUDA=ON -D WITH_CUBLAS=ON -D WITH_TBB=ON -D WITH_V4L=ON -D WITH_QT=ON -D WITH_OPENGL=ON -D BUILD_PERF_TESTS=OFF -D BUILD_TESTS=OFF -DCUDA_NVCC_FLAGS=&quot;-D_FORCE_INLINES&quot; -DOPENCV_EXTRA_MODULES_PATH=~/ARK_project/opencv_contrib/modules -DCMAKE_SHARED_LINKER_FLAGS=&#39;-latomic&#39; ..</div>
</div><!-- fragment --></li>
</ul>
<h4 class="doxsection"><a class="anchor" id="autotoc_md31"></a>
<em>Optional:</em> If there are errors in compilation, use an older version of gcc and g++:</h4>
<ul>
<li>Install different versions and update system alternatives with the following commands: <div class="fragment"><div class="line">sudo apt -y install gcc-7 g++-7 gcc-8 g++-8 gcc-9 g++-9</div>
<div class="line">sudo update-alternatives --install /usr/bin/gcc gcc /usr/bin/gcc-7 7</div>
<div class="line">sudo update-alternatives --install /usr/bin/gcc gcc /usr/bin/gcc-8 8</div>
<div class="line">sudo update-alternatives --install /usr/bin/gcc gcc /usr/bin/gcc-9 9</div>
<div class="line">sudo update-alternatives --install /usr/bin/g++ g++ /usr/bin/g++-7 7</div>
<div class="line">sudo update-alternatives --install /usr/bin/g++ g++ /usr/bin/g++-8 8</div>
<div class="line">sudo update-alternatives --install /usr/bin/g++ g++ /usr/bin/g++-9 9</div>
</div><!-- fragment --></li>
<li>Switch to gcc-7 and g++-7 as needed.</li>
</ul>
<h3 class="doxsection"><a class="anchor" id="autotoc_md32"></a>
Build and Install OpenCV:</h3>
<ul>
<li>Compile and install OpenCV with the commands: <div class="fragment"><div class="line">make -j $(($(nproc) + 1))</div>
<div class="line">sudo make install</div>
</div><!-- fragment --></li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md33"></a>
8. Compile LARS</h2>
<ul>
<li>Follow these steps to compile and set up LARS:<ul>
<li><b>Navigate to the LARS project directory:</b> <span class="tt">
        cd ~/LARS_project
        </span></li>
<li><b>Clone the LARS Code:</b> <span class="tt">
        git clone <a href="https://github.com/mohsen-raoufi/LARS.git">https://github.com/mohsen-raoufi/LARS.git</a>
        </span></li>
<li><b>Open QT Creator and the project:</b><ul>
<li>Open QT creator.</li>
<li>Open project and select <span class="tt">CMakeList.txt</span> (or <span class="tt">.pro</span> file) in the cloned directory of LARS.</li>
<li>Build and run.</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md34"></a>
9. Enjoy</h2>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
